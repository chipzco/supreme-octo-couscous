<div class="container">
    <div [hidden]="submitted">
        <h1>Video Form</h1>
        <form (ngSubmit)="onSubmit()" #videoForm="ngForm">
            <div class="form-group">
                <label for="videoid">Video ID</label>
                <input type="number" class="form-control" id="videoid" required [(ngModel)]="video.videoid" name="videoid" #videoid="ngModel">
                <div [hidden]="videoid.valid || videoid.pristine" class="alert alert-danger">
                    VideoId: required and should be a number
                </div>
            </div>
            <div class="form-group">
                <label for="filename">File Name</label>
                <input type="text" class="form-control" id="filename" required [(ngModel)]="video.filename" name="filename">
            </div>
            <div class="form-group">
                <label for="subjectname">Subject Name</label>
                <input type="text" class="form-control" id="subjectname" [(ngModel)]="video.subjectname" name="subjectname">
            </div>
            <div class="form-group">
                <label for="patientact">Patient or Actor</label>
                <select id="patientact" class="form-control" [(ngModel)]="video.patientact" name="patientact" required>
                    <option *ngFor="let pow of patlabels; let id=index" [value]="id">{{pow}}</option>
                </select>
            </div>
           <div class="form-group">
                <label for="language">Language</label>
                <select id="language" class="form-control" [(ngModel)]="video.language" name="language" required>
                    <option *ngFor="let lang of langs" [ngValue]="lang">{{lang.lname}}</option>
                </select>
            </div>          


            <div class="form-group" *ngIf="video && video.transcripts &&  (video.id!=null || video.id !=0)">
                <label>Set Transcripts: </label>
                <span *ngFor="let t of video.transcripts; let i=index">
                    {{t.lname}}  <a href="#" (click)="$event.preventDefault();delTranscript(i);">X</a>
                    &nbsp; &nbsp;
                </span>
            </div>



            <div class="form-group">
                <label>Transcript Languages</label>
                <input type="button" value="New Dropdown" class="btn-xs" (click)="addRow()" [disabled]="!dataReady()">
                <input type="button" value="Remove" class="btn-xs" (click)="removeRow()" *ngIf="selOptions.length>0">
                <span *ngFor="let num of selOptions">
                    <select name="addtran{{num}}" [(ngModel)]="selrep[num]">
                        <option value="0">--CHOOSE ONE</option>
                        <option *ngFor="let lang of langs" [ngValue]="lang.id">{{lang.lname}}</option>
                    </select>
                </span>
            </div>
           
            <button type="submit" class="btn btn-primary" [disabled]="!videoForm.form.valid">Save</button>
        </form>
   </div>

    <hr />
        <app-fakeloader [startStop]="startStop" [loadTexts]="loadTexts"></app-fakeloader> 
    <hr />
    <!-- <button class="btn-danger" (click)="checkLoader()">run loader</button> <button class="btn-danger" (click)="stopLoader()">stop loader</button> -->

    <div [hidden]="!submitted">
        <h2>You submitted the following:</h2>
        <div class="row">
            <div class="col-xs-3">Videoid</div>
            <div class="col-xs-9 pull-left">{{ video.videoid }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">FileName</div>
            <div class="col-xs-9  pull-left">{{ video.filename }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Subject</div>
            <div class="col-xs-9 pull-left">{{ video.subjectname }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Language</div>
            <div class="col-xs-9 pull-left">{{ video.language.lname }} </div>
        </div>
        <div class="row">
            <div class="col-xs-3">Patient Or Actor</div>
            <div class="col-xs-9 pull-left">{{ video.patientact }}</div>
        </div>
        <div class="row">
            <div class="col-xs-3">Transcripts</div>
            <div class="col-xs-9 pull-left">
                <span *ngFor="let t of video.transcripts">
                    {{ t.lname }}  &nbsp;
                </span>
            </div>
        </div>
        <br/>
        <button class="btn btn-primary" routerLink="/videos">Return to Video Listing</button>            
        <button class="btn btn-warning" *ngIf="showVideoStudyBtn" [routerLink]="['/videostudies',video.id]">Manage Linked Studies</button>         {{video.id}}    
   </div>


 </div>